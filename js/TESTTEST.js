let manager = {
    "address": "강원 홍천군 화촌면",
    "availableSpc": [
        "물오리나무",
        "소나무",
        "신나무",
        "산벚나무",
        "잣나무",
        "신갈나무",
        "산뽕나무",
        "층층나무",
        "피나무",
        "느릅나무",
        "물푸레나무",
        "일본잎갈나무",
        "자작나무"
    ],
    "additionalSpc": [
        "굴참나무",
        "리기다소나무",
        "졸참나무",
        "곰솔",
        "상수리나무",
        "밤나무",
        "아까시나무",
        "갈참나무",
        "때죽나무",
        "굴피나무",
        "떡갈나무"
    ],
    "totalSpc": [
        "물오리나무",
        "소나무",
        "신나무",
        "산벚나무",
        "잣나무",
        "신갈나무",
        "산뽕나무",
        "층층나무",
        "피나무",
        "느릅나무",
        "물푸레나무",
        "일본잎갈나무",
        "자작나무",
        "굴참나무",
        "리기다소나무",
        "졸참나무",
        "곰솔",
        "상수리나무",
        "밤나무",
        "아까시나무",
        "갈참나무",
        "때죽나무",
        "굴피나무",
        "떡갈나무"
    ],
    "numSections": 5,
    "numSpecies": 6,
    "planningPeriod": 15,
    "startYear": 2011,
    "spcClasses": [
        {
            "class": 1,
            "speciesID": "O",
            "species": "소나무"
        },
        {
            "class": 2,
            "speciesID": "C",
            "species": "리기다소나무"
        },
        {
            "class": 3,
            "speciesID": "K",
            "species": "잣나무"
        },
        {
            "class": 4,
            "speciesID": "L",
            "species": "일본잎갈나무"
        },
        {
            "class": 5,
            "speciesID": "S",
            "species": "상수리나무"
        },
        {
            "class": 6,
            "speciesID": "B",
            "species": "신갈나무"
        }
    ],
    "spcLists": [
        "소나무",
        "리기다소나무",
        "잣나무",
        "일본잎갈나무",
        "상수리나무",
        "신갈나무"
    ],
    "currentSpc": [
        {
            "section": 1,
            "species": "잣나무",
            "age": 8,
            "area": 208.7,
            "volume": 394.7714
        },
        {
            "section": 1,
            "species": "일본잎갈나무",
            "age": 8,
            "area": 5,
            "volume": 272.264
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 7,
            "area": 2,
            "volume": 185.77
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 6,
            "area": 13,
            "volume": 167.12
        },
        {
            "section": 1,
            "species": "일본잎갈나무",
            "age": 6,
            "area": 1,
            "volume": 238.46
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 5,
            "area": 200.1,
            "volume": 280.2216
        },
        {
            "section": 1,
            "species": "일본잎갈나무",
            "age": 5,
            "area": 7,
            "volume": 373.03
        },
        {
            "section": 1,
            "species": "신갈나무",
            "age": 5,
            "area": 31,
            "volume": 208.6839
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 4,
            "area": 368,
            "volume": 276.128
        },
        {
            "section": 1,
            "species": "일본잎갈나무",
            "age": 4,
            "area": 41,
            "volume": 339.6974
        },
        {
            "section": 1,
            "species": "신갈나무",
            "age": 4,
            "area": 9,
            "volume": 204.21
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 3,
            "area": 35,
            "volume": 202.397
        },
        {
            "section": 1,
            "species": "일본잎갈나무",
            "age": 3,
            "area": 14,
            "volume": 119.9014
        },
        {
            "section": 1,
            "species": "신갈나무",
            "age": 3,
            "area": 7,
            "volume": 142.37
        },
        {
            "section": 1,
            "species": "소나무",
            "age": 2,
            "area": 3,
            "volume": 0.001
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 2,
            "area": 13,
            "volume": 29.3833
        },
        {
            "section": 1,
            "species": "상수리나무",
            "age": 2,
            "area": 2,
            "volume": 0.001
        },
        {
            "section": 1,
            "species": "소나무",
            "age": 1,
            "area": 35,
            "volume": 115.22
        },
        {
            "section": 1,
            "species": "잣나무",
            "age": 1,
            "area": 1,
            "volume": 0.001
        },
        {
            "section": 1,
            "species": "상수리나무",
            "age": 1,
            "area": 12,
            "volume": 0.001
        },
        {
            "section": 1,
            "species": "신갈나무",
            "age": 1,
            "area": 21,
            "volume": 5.1048
        },
        {
            "section": 2,
            "species": "잣나무",
            "age": 5,
            "area": 33,
            "volume": 160.7384
        },
        {
            "section": 2,
            "species": "일본잎갈나무",
            "age": 5,
            "area": 37,
            "volume": 358.0718919
        },
        {
            "section": 2,
            "species": "신갈나무",
            "age": 5,
            "area": 32.5,
            "volume": 194.13
        },
        {
            "section": 2,
            "species": "소나무",
            "age": 4,
            "area": 3,
            "volume": 172.44
        },
        {
            "section": 2,
            "species": "리기다소나무",
            "age": 4,
            "area": 9,
            "volume": 118.66
        },
        {
            "section": 2,
            "species": "잣나무",
            "age": 4,
            "area": 34,
            "volume": 267.2690647
        },
        {
            "section": 2,
            "species": "일본잎갈나무",
            "age": 4,
            "area": 11,
            "volume": 172.16
        },
        {
            "section": 2,
            "species": "신갈나무",
            "age": 4,
            "area": 5,
            "volume": 93.73
        },
        {
            "section": 2,
            "species": "신갈나무",
            "age": 3,
            "area": 20,
            "volume": 90.666
        },
        {
            "section": 2,
            "species": "잣나무",
            "age": 2,
            "area": 36,
            "volume": 54.74
        },
        {
            "section": 2,
            "species": "일본잎갈나무",
            "age": 2,
            "area": 6,
            "volume": 18.82
        },
        {
            "section": 2,
            "species": "잣나무",
            "age": 1,
            "area": 2,
            "volume": 0.001
        },
        {
            "section": 2,
            "species": "일본잎갈나무",
            "age": 1,
            "area": 2,
            "volume": 0.001
        },
        {
            "section": 3,
            "species": "잣나무",
            "age": 8,
            "area": 14,
            "volume": 179.2786
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 7,
            "area": 2,
            "volume": 279.85
        },
        {
            "section": 3,
            "species": "소나무",
            "age": 6,
            "area": 2,
            "volume": 115.65
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 6,
            "area": 4,
            "volume": 178.88
        },
        {
            "section": 3,
            "species": "신갈나무",
            "age": 6,
            "area": 61.9,
            "volume": 117.2601454
        },
        {
            "section": 3,
            "species": "리기다소나무",
            "age": 5,
            "area": 13,
            "volume": 279.643
        },
        {
            "section": 3,
            "species": "잣나무",
            "age": 5,
            "area": 137.8,
            "volume": 318.417237
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 5,
            "area": 160.3,
            "volume": 374.632258
        },
        {
            "section": 3,
            "species": "신갈나무",
            "age": 5,
            "area": 182.4,
            "volume": 207.9909371
        },
        {
            "section": 3,
            "species": "리기다소나무",
            "age": 4,
            "area": 71,
            "volume": 261.4693
        },
        {
            "section": 3,
            "species": "잣나무",
            "age": 4,
            "area": 364,
            "volume": 266.1554439
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 4,
            "area": 193,
            "volume": 327.1993325
        },
        {
            "section": 3,
            "species": "신갈나무",
            "age": 4,
            "area": 116,
            "volume": 192.5432645
        },
        {
            "section": 3,
            "species": "소나무",
            "age": 3,
            "area": 1,
            "volume": 53.87
        },
        {
            "section": 3,
            "species": "잣나무",
            "age": 3,
            "area": 77,
            "volume": 172.49097
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 3,
            "area": 22,
            "volume": 215.0725
        },
        {
            "section": 3,
            "species": "상수리나무",
            "age": 3,
            "area": 5,
            "volume": 64.77
        },
        {
            "section": 3,
            "species": "신갈나무",
            "age": 3,
            "area": 8,
            "volume": 77.8925
        },
        {
            "section": 3,
            "species": "잣나무",
            "age": 2,
            "area": 16,
            "volume": 52.44365222
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 2,
            "area": 48,
            "volume": 53.05604167
        },
        {
            "section": 3,
            "species": "상수리나무",
            "age": 2,
            "area": 2,
            "volume": 31.55
        },
        {
            "section": 3,
            "species": "신갈나무",
            "age": 2,
            "area": 5,
            "volume": 23.716
        },
        {
            "section": 3,
            "species": "소나무",
            "age": 1,
            "area": 6,
            "volume": 0.001
        },
        {
            "section": 3,
            "species": "잣나무",
            "age": 1,
            "area": 15.1,
            "volume": 0.001
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "age": 1,
            "area": 10,
            "volume": 0.001
        },
        {
            "section": 3,
            "species": "상수리나무",
            "age": 1,
            "area": 4,
            "volume": 0.001
        },
        {
            "section": 4,
            "species": "잣나무",
            "age": 8,
            "area": 34,
            "volume": 204.4741176
        },
        {
            "section": 4,
            "species": "잣나무",
            "age": 7,
            "area": 4,
            "volume": 183.91
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "age": 7,
            "area": 3,
            "volume": 279.85
        },
        {
            "section": 4,
            "species": "소나무",
            "age": 5,
            "area": 13,
            "volume": 119.5492308
        },
        {
            "section": 4,
            "species": "잣나무",
            "age": 5,
            "area": 50,
            "volume": 305.6047429
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "age": 5,
            "area": 26,
            "volume": 188.7784615
        },
        {
            "section": 4,
            "species": "신갈나무",
            "age": 5,
            "area": 231.3,
            "volume": 252.3812077
        },
        {
            "section": 4,
            "species": "리기다소나무",
            "age": 4,
            "area": 15,
            "volume": 317.1681818
        },
        {
            "section": 4,
            "species": "잣나무",
            "age": 4,
            "area": 300,
            "volume": 300.5181462
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "age": 4,
            "area": 296,
            "volume": 350.543884
        },
        {
            "section": 4,
            "species": "상수리나무",
            "age": 4,
            "area": 7,
            "volume": 133.24
        },
        {
            "section": 4,
            "species": "잣나무",
            "age": 3,
            "area": 9,
            "volume": 183.738
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "age": 3,
            "area": 32,
            "volume": 126.193125
        },
        {
            "section": 4,
            "species": "잣나무",
            "age": 2,
            "area": 10,
            "volume": 77.51833333
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "age": 2,
            "area": 23,
            "volume": 119.4336364
        },
        {
            "section": 4,
            "species": "소나무",
            "age": 1,
            "area": 3,
            "volume": 0.001
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "age": 1,
            "area": 2,
            "volume": 0.001
        },
        {
            "section": 4,
            "species": "상수리나무",
            "age": 1,
            "area": 4,
            "volume": 11.73
        },
        {
            "section": 5,
            "species": "소나무",
            "age": 4,
            "area": 4,
            "volume": 93.73
        },
        {
            "section": 5,
            "species": "잣나무",
            "age": 4,
            "area": 122,
            "volume": 265.3024912
        },
        {
            "section": 5,
            "species": "일본잎갈나무",
            "age": 4,
            "area": 134,
            "volume": 314.8127545
        },
        {
            "section": 5,
            "species": "신갈나무",
            "age": 4,
            "area": 130,
            "volume": 140.7911905
        },
        {
            "section": 5,
            "species": "잣나무",
            "age": 3,
            "area": 11,
            "volume": 116.0973
        },
        {
            "section": 5,
            "species": "일본잎갈나무",
            "age": 3,
            "area": 18,
            "volume": 258.7087286
        },
        {
            "section": 5,
            "species": "소나무",
            "age": 2,
            "area": 10,
            "volume": 12.54
        },
        {
            "section": 5,
            "species": "잣나무",
            "age": 2,
            "area": 27,
            "volume": 3.92
        },
        {
            "section": 5,
            "species": "일본잎갈나무",
            "age": 2,
            "area": 14,
            "volume": 12.97714286
        },
        {
            "section": 5,
            "species": "상수리나무",
            "age": 2,
            "area": 24,
            "volume": 51.69454545
        },
        {
            "section": 5,
            "species": "신갈나무",
            "age": 2,
            "area": 3,
            "volume": 10
        },
        {
            "section": 5,
            "species": "소나무",
            "age": 1,
            "area": 27,
            "volume": 0.001
        },
        {
            "section": 5,
            "species": "잣나무",
            "age": 1,
            "area": 21.3,
            "volume": 0.001
        },
        {
            "section": 5,
            "species": "일본잎갈나무",
            "age": 1,
            "area": 9,
            "volume": 0.001
        },
        {
            "section": 5,
            "species": "상수리나무",
            "age": 1,
            "area": 2,
            "volume": 0.001
        },
        {
            "section": 5,
            "species": "신갈나무",
            "age": 1,
            "area": 28,
            "volume": 7.932142857
        }
    ],
    "thinningScenario": [],
    "forManPlan": [
        {
            "section": 1,
            "species": "소나무",
            "clearCutYear": 7,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 1,
            "species": "리기다소나무",
            "clearCutYear": 4,
            "thinningScenario": [
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 1,
            "species": "잣나무",
            "clearCutYear": 7,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 1,
            "species": "일본잎갈나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 1,
            "species": "상수리나무",
            "clearCutYear": 7,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 1,
            "species": "신갈나무",
            "clearCutYear": 7,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 2,
            "species": "소나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0.3,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 2,
            "species": "리기다소나무",
            "clearCutYear": 3,
            "thinningScenario": [
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 2,
            "species": "잣나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0.3,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 2,
            "species": "일본잎갈나무",
            "clearCutYear": 5,
            "thinningScenario": [
                0,
                0.3,
                0.3,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 2,
            "species": "상수리나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0.3,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 2,
            "species": "신갈나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0.3,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 3,
            "species": "소나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 3,
            "species": "리기다소나무",
            "clearCutYear": 3
        },
        {
            "section": 3,
            "species": "잣나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 3,
            "species": "일본잎갈나무",
            "clearCutYear": 5,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 3,
            "species": "상수리나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 3,
            "species": "신갈나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 4,
            "species": "소나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 4,
            "species": "리기다소나무",
            "clearCutYear": 3
        },
        {
            "section": 4,
            "species": "잣나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 4,
            "species": "일본잎갈나무",
            "clearCutYear": 5,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 4,
            "species": "상수리나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 4,
            "species": "신갈나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 5,
            "species": "소나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 5,
            "species": "리기다소나무",
            "clearCutYear": 3
        },
        {
            "section": 5,
            "species": "잣나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 5,
            "species": "일본잎갈나무",
            "clearCutYear": 5,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 5,
            "species": "상수리나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        },
        {
            "section": 5,
            "species": "신갈나무",
            "clearCutYear": 6,
            "thinningScenario": [
                0,
                0.3,
                0,
                0.3,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
            ]
        }
    ],
    "spcGrowth": {
        "소나무": {
            "points": [
                [
                    1,
                    -0.03872
                ],
                [
                    2,
                    -0.003478
                ],
                [
                    3,
                    0.017137
                ],
                [
                    4,
                    0.031763
                ],
                [
                    5,
                    0.043109
                ],
                [
                    6,
                    0.052378
                ],
                [
                    7,
                    0.060216
                ],
                [
                    8,
                    0.067005
                ],
                [
                    9,
                    0.072993
                ],
                [
                    10,
                    0.07835
                ],
                [
                    11,
                    0.083196
                ],
                [
                    12,
                    0.08762
                ],
                [
                    13,
                    0.09169
                ],
                [
                    14,
                    0.095458
                ],
                [
                    15,
                    0.098965
                ],
                [
                    16,
                    0.102247
                ],
                [
                    17,
                    0.105329
                ],
                [
                    18,
                    0.108235
                ],
                [
                    19,
                    0.110984
                ],
                [
                    20,
                    0.113592
                ],
                [
                    21,
                    0.116073
                ],
                [
                    22,
                    0.118438
                ],
                [
                    23,
                    0.120698
                ],
                [
                    24,
                    0.122862
                ],
                [
                    25,
                    0.124937
                ],
                [
                    26,
                    0.126931
                ],
                [
                    27,
                    0.12885
                ],
                [
                    28,
                    0.130699
                ],
                [
                    29,
                    0.132483
                ],
                [
                    30,
                    0.134207
                ],
                [
                    31,
                    0.135874
                ],
                [
                    32,
                    0.137488
                ]
            ],
            "equation": [
                -0.03872,
                0.050843
            ],
            "string": "y = -0.03872 + 0.050843 ln(x)",
            "r2": 0.791039,
            "predictions": [
                0,
                0,
                0.017137,
                0.031763,
                0.043109,
                0.052378,
                0.060216,
                0.067005,
                0.072993,
                0.07835,
                0.083196,
                0.08762,
                0.09169,
                0.095458,
                0.098965,
                0.102247,
                0.105329,
                0.108235,
                0.110984,
                0.113592,
                0.116073,
                0.118438,
                0.120698,
                0.122862,
                0.124937,
                0.126931,
                0.12885,
                0.130699,
                0.132483,
                0.134207,
                0.135874,
                0.137488,
                0.139053,
                0.140571,
                0.142045,
                0.143477,
                0.14487,
                0.146226,
                0.147546,
                0.148834,
                0.150089,
                0.151314,
                0.152511,
                0.15368,
                0.154822,
                0.15594,
                0.157033,
                0.158103,
                0.159152,
                0.160179,
                0.161186,
                0.162173,
                0.163142,
                0.164092,
                0.165025,
                0.165941,
                0.166841,
                0.167725,
                0.168594,
                0.169449,
                0.170289,
                0.171116,
                0.171929,
                0.17273,
                0.173518,
                0.174295,
                0.175059,
                0.175812,
                0.176555,
                0.177286,
                0.178007,
                0.178719,
                0.17942,
                0.180112,
                0.180794,
                0.181467,
                0.182132,
                0.182788,
                0.183436,
                0.184075,
                0.184707,
                0.185331,
                0.185947,
                0.186556,
                0.187158,
                0.187752,
                0.18834,
                0.188921,
                0.189496,
                0.190064,
                0.190626,
                0.191181,
                0.191731,
                0.192275,
                0.192813,
                0.193345,
                0.193872,
                0.194394,
                0.19491,
                0.195421,
                0.195927,
                0.196427,
                0.196924,
                0.197415,
                0.197901,
                0.198383,
                0.198861,
                0.199334,
                0.199802,
                0.200267,
                0.200727,
                0.201183,
                0.201635,
                0.202083,
                0.202527,
                0.202967,
                0.203403,
                0.203836,
                0.204265,
                0.20469,
                0.205112,
                0.205531,
                0.205946,
                0.206358,
                0.206766,
                0.207171,
                0.207573,
                0.207972,
                0.208367,
                0.20876,
                0.20915,
                0.209536,
                0.20992,
                0.210301,
                0.210679,
                0.211054,
                0.211427,
                0.211796,
                0.212163,
                0.212528,
                0.21289,
                0.213249,
                0.213606,
                0.21396,
                0.214312,
                0.214662,
                0.215009,
                0.215353,
                0.215696,
                0.216036
            ],
            "growthCombined": [
                0,
                0.0205,
                0.0322,
                0.0415,
                0.0485,
                0.0432,
                0.0425,
                0.0444,
                0.047,
                0.0526,
                0.0594,
                0.064,
                0.0705,
                0.0752,
                0.0817,
                0.086,
                0.089,
                0.0939,
                0.0992,
                0.1049,
                0.1115,
                0.1177,
                0.1234,
                0.11,
                0.1148,
                0.1333,
                0.1443,
                0.1586,
                0.1681,
                0.173,
                0.1779,
                0.1788,
                0.140571,
                0.142045,
                0.143477,
                0.14487,
                0.146226,
                0.147546,
                0.148834,
                0.150089,
                0.151314,
                0.152511,
                0.15368,
                0.154822,
                0.15594,
                0.157033,
                0.158103,
                0.159152,
                0.160179,
                0.161186,
                0.162173,
                0.163142,
                0.164092,
                0.165025,
                0.165941,
                0.166841,
                0.167725,
                0.168594,
                0.169449,
                0.170289,
                0.171116,
                0.171929,
                0.17273,
                0.173518,
                0.174295,
                0.175059,
                0.175812,
                0.176555,
                0.177286,
                0.178007,
                0.178719,
                0.17942,
                0.180112,
                0.180794,
                0.181467,
                0.182132,
                0.182788,
                0.183436,
                0.184075,
                0.184707,
                0.185331,
                0.185947,
                0.186556,
                0.187158,
                0.187752,
                0.18834,
                0.188921,
                0.189496,
                0.190064,
                0.190626,
                0.191181,
                0.191731,
                0.192275,
                0.192813,
                0.193345,
                0.193872,
                0.194394,
                0.19491,
                0.195421,
                0.195927,
                0.196427,
                0.196924,
                0.197415,
                0.197901,
                0.198383,
                0.198861,
                0.199334,
                0.199802,
                0.200267,
                0.200727,
                0.201183,
                0.201635,
                0.202083,
                0.202527,
                0.202967,
                0.203403,
                0.203836,
                0.204265,
                0.20469,
                0.205112,
                0.205531,
                0.205946,
                0.206358,
                0.206766,
                0.207171,
                0.207573,
                0.207972,
                0.208367,
                0.20876,
                0.20915,
                0.209536,
                0.20992,
                0.210301,
                0.210679,
                0.211054,
                0.211427,
                0.211796,
                0.212163,
                0.212528,
                0.21289,
                0.213249,
                0.213606,
                0.21396,
                0.214312,
                0.214662,
                0.215009,
                0.215353,
                0.215696,
                0.216036,
                null
            ]
        },
        "리기다소나무": {
            "points": [
                [
                    1,
                    -0.019395
                ],
                [
                    2,
                    -0.006895
                ],
                [
                    3,
                    0.000416
                ],
                [
                    4,
                    0.005604
                ],
                [
                    5,
                    0.009628
                ],
                [
                    6,
                    0.012916
                ],
                [
                    7,
                    0.015696
                ],
                [
                    8,
                    0.018104
                ],
                [
                    9,
                    0.020228
                ],
                [
                    10,
                    0.022128
                ],
                [
                    11,
                    0.023846
                ],
                [
                    12,
                    0.025415
                ],
                [
                    13,
                    0.026859
                ],
                [
                    14,
                    0.028195
                ],
                [
                    15,
                    0.029439
                ],
                [
                    16,
                    0.030603
                ],
                [
                    17,
                    0.031696
                ],
                [
                    18,
                    0.032727
                ],
                [
                    19,
                    0.033702
                ],
                [
                    20,
                    0.034627
                ],
                [
                    21,
                    0.035507
                ],
                [
                    22,
                    0.036346
                ],
                [
                    23,
                    0.037147
                ],
                [
                    24,
                    0.037915
                ],
                [
                    25,
                    0.038651
                ],
                [
                    26,
                    0.039358
                ],
                [
                    27,
                    0.040039
                ],
                [
                    28,
                    0.040695
                ],
                [
                    29,
                    0.041327
                ],
                [
                    30,
                    0.041939
                ],
                [
                    31,
                    0.04253
                ],
                [
                    32,
                    0.043103
                ],
                [
                    33,
                    0.043658
                ],
                [
                    34,
                    0.044196
                ],
                [
                    35,
                    0.044719
                ],
                [
                    36,
                    0.045227
                ]
            ],
            "equation": [
                -0.019395,
                0.018033
            ],
            "string": "y = -0.019395 + 0.018033 ln(x)",
            "r2": 0.698168,
            "predictions": [
                0,
                0,
                0.000416,
                0.005604,
                0.009628,
                0.012916,
                0.015696,
                0.018104,
                0.020228,
                0.022128,
                0.023846,
                0.025415,
                0.026859,
                0.028195,
                0.029439,
                0.030603,
                0.031696,
                0.032727,
                0.033702,
                0.034627,
                0.035507,
                0.036346,
                0.037147,
                0.037915,
                0.038651,
                0.039358,
                0.040039,
                0.040695,
                0.041327,
                0.041939,
                0.04253,
                0.043103,
                0.043658,
                0.044196,
                0.044719,
                0.045227,
                0.045721,
                0.046202,
                0.04667,
                0.047127,
                0.047572,
                0.048006,
                0.048431,
                0.048845,
                0.049251,
                0.049647,
                0.050035,
                0.050414,
                0.050786,
                0.051151,
                0.051508,
                0.051858,
                0.052201,
                0.052538,
                0.052869,
                0.053194,
                0.053513,
                0.053827,
                0.054135,
                0.054438,
                0.054736,
                0.05503,
                0.055318,
                0.055602,
                0.055882,
                0.056157,
                0.056428,
                0.056695,
                0.056959,
                0.057218,
                0.057474,
                0.057726,
                0.057975,
                0.05822,
                0.058462,
                0.058701,
                0.058937,
                0.05917,
                0.059399,
                0.059626,
                0.05985,
                0.060071,
                0.06029,
                0.060506,
                0.060719,
                0.06093,
                0.061139,
                0.061345,
                0.061549,
                0.06175,
                0.061949,
                0.062146,
                0.062341,
                0.062534,
                0.062725,
                0.062914,
                0.063101,
                0.063286,
                0.063469,
                0.06365,
                0.063829,
                0.064007,
                0.064183,
                0.064357,
                0.06453,
                0.064701,
                0.06487,
                0.065038,
                0.065204,
                0.065369,
                0.065532,
                0.065694,
                0.065854,
                0.066013,
                0.06617,
                0.066326,
                0.066481,
                0.066635,
                0.066787,
                0.066938,
                0.067087,
                0.067236,
                0.067383,
                0.067529,
                0.067674,
                0.067818,
                0.06796,
                0.068102,
                0.068242,
                0.068381,
                0.068519,
                0.068657,
                0.068793,
                0.068928,
                0.069062,
                0.069195,
                0.069327,
                0.069458,
                0.069588,
                0.069718,
                0.069846,
                0.069973,
                0.0701,
                0.070226,
                0.07035,
                0.070474,
                0.070597,
                0.07072,
                0.070841,
                0.070962
            ],
            "growthCombined": [
                0,
                0.0043,
                0.0072,
                0.0088,
                0.01,
                0.0116,
                0.0128,
                0.013,
                0.0139,
                0.0148,
                0.0154,
                0.016,
                0.016,
                0.0171,
                0.017,
                0.0183,
                0.0195,
                0.0215,
                0.023,
                0.0252,
                0.0266,
                0.0288,
                0.0322,
                0.0343,
                0.0371,
                0.04,
                0.0427,
                0.0457,
                0.0479,
                0.0509,
                0.0531,
                0.0569,
                0.0594,
                0.0609,
                0.0624,
                0.0636,
                0.046202,
                0.04667,
                0.047127,
                0.047572,
                0.048006,
                0.048431,
                0.048845,
                0.049251,
                0.049647,
                0.050035,
                0.050414,
                0.050786,
                0.051151,
                0.051508,
                0.051858,
                0.052201,
                0.052538,
                0.052869,
                0.053194,
                0.053513,
                0.053827,
                0.054135,
                0.054438,
                0.054736,
                0.05503,
                0.055318,
                0.055602,
                0.055882,
                0.056157,
                0.056428,
                0.056695,
                0.056959,
                0.057218,
                0.057474,
                0.057726,
                0.057975,
                0.05822,
                0.058462,
                0.058701,
                0.058937,
                0.05917,
                0.059399,
                0.059626,
                0.05985,
                0.060071,
                0.06029,
                0.060506,
                0.060719,
                0.06093,
                0.061139,
                0.061345,
                0.061549,
                0.06175,
                0.061949,
                0.062146,
                0.062341,
                0.062534,
                0.062725,
                0.062914,
                0.063101,
                0.063286,
                0.063469,
                0.06365,
                0.063829,
                0.064007,
                0.064183,
                0.064357,
                0.06453,
                0.064701,
                0.06487,
                0.065038,
                0.065204,
                0.065369,
                0.065532,
                0.065694,
                0.065854,
                0.066013,
                0.06617,
                0.066326,
                0.066481,
                0.066635,
                0.066787,
                0.066938,
                0.067087,
                0.067236,
                0.067383,
                0.067529,
                0.067674,
                0.067818,
                0.06796,
                0.068102,
                0.068242,
                0.068381,
                0.068519,
                0.068657,
                0.068793,
                0.068928,
                0.069062,
                0.069195,
                0.069327,
                0.069458,
                0.069588,
                0.069718,
                0.069846,
                0.069973,
                0.0701,
                0.070226,
                0.07035,
                0.070474,
                0.070597,
                0.07072,
                0.070841,
                0.070962,
                null
            ]
        },
        "잣나무": {
            "points": [
                [
                    1,
                    -0.166863
                ],
                [
                    2,
                    -0.064439
                ],
                [
                    3,
                    -0.004525
                ],
                [
                    4,
                    0.037984
                ],
                [
                    5,
                    0.070957
                ],
                [
                    6,
                    0.097898
                ],
                [
                    7,
                    0.120676
                ],
                [
                    8,
                    0.140408
                ],
                [
                    9,
                    0.157812
                ],
                [
                    10,
                    0.173381
                ],
                [
                    11,
                    0.187464
                ],
                [
                    12,
                    0.200322
                ],
                [
                    13,
                    0.212149
                ],
                [
                    14,
                    0.2231
                ],
                [
                    15,
                    0.233295
                ],
                [
                    16,
                    0.242831
                ],
                [
                    17,
                    0.25179
                ],
                [
                    18,
                    0.260236
                ],
                [
                    19,
                    0.268225
                ],
                [
                    20,
                    0.275804
                ],
                [
                    21,
                    0.283014
                ],
                [
                    22,
                    0.289888
                ],
                [
                    23,
                    0.296456
                ],
                [
                    24,
                    0.302745
                ]
            ],
            "equation": [
                -0.166863,
                0.147766
            ],
            "string": "y = -0.166863 + 0.147766 ln(x)",
            "r2": 0.680663,
            "predictions": [
                0,
                0,
                0,
                0.037984,
                0.070957,
                0.097898,
                0.120676,
                0.140408,
                0.157812,
                0.173381,
                0.187464,
                0.200322,
                0.212149,
                0.2231,
                0.233295,
                0.242831,
                0.25179,
                0.260236,
                0.268225,
                0.275804,
                0.283014,
                0.289888,
                0.296456,
                0.302745,
                0.308777,
                0.314573,
                0.32015,
                0.325524,
                0.330709,
                0.335718,
                0.340564,
                0.345255,
                0.349802,
                0.354213,
                0.358497,
                0.362659,
                0.366708,
                0.370649,
                0.374487,
                0.378228,
                0.381877,
                0.385437,
                0.388914,
                0.392312,
                0.395632,
                0.39888,
                0.402058,
                0.405169,
                0.408216,
                0.411201,
                0.414127,
                0.416996,
                0.419811,
                0.422573,
                0.425285,
                0.427947,
                0.430563,
                0.433132,
                0.435658,
                0.438142,
                0.440584,
                0.442987,
                0.445351,
                0.447679,
                0.44997,
                0.452226,
                0.454448,
                0.456637,
                0.458794,
                0.46092,
                0.463016,
                0.465083,
                0.467121,
                0.469131,
                0.471115,
                0.473072,
                0.475004,
                0.47691,
                0.478793,
                0.480652,
                0.482487,
                0.4843,
                0.486091,
                0.487861,
                0.48961,
                0.491338,
                0.493046,
                0.494735,
                0.496405,
                0.498056,
                0.499689,
                0.501304,
                0.502901,
                0.504481,
                0.506045,
                0.507592,
                0.509124,
                0.510639,
                0.512139,
                0.513625,
                0.515095,
                0.516551,
                0.517992,
                0.51942,
                0.520834,
                0.522235,
                0.523622,
                0.524997,
                0.526359,
                0.527708,
                0.529045,
                0.530371,
                0.531684,
                0.532986,
                0.534277,
                0.535556,
                0.536824,
                0.538082,
                0.539329,
                0.540566,
                0.541792,
                0.543008,
                0.544214,
                0.545411,
                0.546598,
                0.547775,
                0.548943,
                0.550102,
                0.551252,
                0.552393,
                0.553525,
                0.554649,
                0.555764,
                0.556871,
                0.55797,
                0.55906,
                0.560143,
                0.561218,
                0.562284,
                0.563344,
                0.564395,
                0.56544,
                0.566477,
                0.567506,
                0.568529,
                0.569545,
                0.570553,
                0.571555,
                0.57255,
                0.573539
            ],
            "growthCombined": [
                0,
                0.0092,
                0.0145,
                0.0177,
                0.0212,
                0.0276,
                0.0391,
                0.0532,
                0.0685,
                0.0851,
                0.1002,
                0.1177,
                0.1406,
                0.1623,
                0.1875,
                0.2188,
                0.2493,
                0.2721,
                0.3064,
                0.3481,
                0.3813,
                0.4066,
                0.4261,
                0.4375,
                0.314573,
                0.32015,
                0.325524,
                0.330709,
                0.335718,
                0.340564,
                0.345255,
                0.349802,
                0.354213,
                0.358497,
                0.362659,
                0.366708,
                0.370649,
                0.374487,
                0.378228,
                0.381877,
                0.385437,
                0.388914,
                0.392312,
                0.395632,
                0.39888,
                0.402058,
                0.405169,
                0.408216,
                0.411201,
                0.414127,
                0.416996,
                0.419811,
                0.422573,
                0.425285,
                0.427947,
                0.430563,
                0.433132,
                0.435658,
                0.438142,
                0.440584,
                0.442987,
                0.445351,
                0.447679,
                0.44997,
                0.452226,
                0.454448,
                0.456637,
                0.458794,
                0.46092,
                0.463016,
                0.465083,
                0.467121,
                0.469131,
                0.471115,
                0.473072,
                0.475004,
                0.47691,
                0.478793,
                0.480652,
                0.482487,
                0.4843,
                0.486091,
                0.487861,
                0.48961,
                0.491338,
                0.493046,
                0.494735,
                0.496405,
                0.498056,
                0.499689,
                0.501304,
                0.502901,
                0.504481,
                0.506045,
                0.507592,
                0.509124,
                0.510639,
                0.512139,
                0.513625,
                0.515095,
                0.516551,
                0.517992,
                0.51942,
                0.520834,
                0.522235,
                0.523622,
                0.524997,
                0.526359,
                0.527708,
                0.529045,
                0.530371,
                0.531684,
                0.532986,
                0.534277,
                0.535556,
                0.536824,
                0.538082,
                0.539329,
                0.540566,
                0.541792,
                0.543008,
                0.544214,
                0.545411,
                0.546598,
                0.547775,
                0.548943,
                0.550102,
                0.551252,
                0.552393,
                0.553525,
                0.554649,
                0.555764,
                0.556871,
                0.55797,
                0.55906,
                0.560143,
                0.561218,
                0.562284,
                0.563344,
                0.564395,
                0.56544,
                0.566477,
                0.567506,
                0.568529,
                0.569545,
                0.570553,
                0.571555,
                0.57255,
                0.573539,
                null
            ]
        },
        "일본잎갈나무": {
            "points": [
                [
                    1,
                    -0.343145
                ],
                [
                    2,
                    -0.181998
                ],
                [
                    3,
                    -0.087733
                ],
                [
                    4,
                    -0.020851
                ],
                [
                    5,
                    0.031027
                ],
                [
                    6,
                    0.073414
                ],
                [
                    7,
                    0.109252
                ],
                [
                    8,
                    0.140296
                ],
                [
                    9,
                    0.167679
                ],
                [
                    10,
                    0.192174
                ],
                [
                    11,
                    0.214332
                ],
                [
                    12,
                    0.234561
                ],
                [
                    13,
                    0.25317
                ],
                [
                    14,
                    0.270399
                ],
                [
                    15,
                    0.286439
                ],
                [
                    16,
                    0.301443
                ],
                [
                    17,
                    0.315537
                ],
                [
                    18,
                    0.328826
                ],
                [
                    19,
                    0.341396
                ],
                [
                    20,
                    0.353321
                ],
                [
                    21,
                    0.364664
                ],
                [
                    22,
                    0.375479
                ],
                [
                    23,
                    0.385814
                ],
                [
                    24,
                    0.395708
                ],
                [
                    25,
                    0.405199
                ],
                [
                    26,
                    0.414317
                ],
                [
                    27,
                    0.423091
                ],
                [
                    28,
                    0.431546
                ],
                [
                    29,
                    0.439704
                ],
                [
                    30,
                    0.447586
                ],
                [
                    31,
                    0.455209
                ],
                [
                    32,
                    0.46259
                ],
                [
                    33,
                    0.469744
                ],
                [
                    34,
                    0.476684
                ],
                [
                    35,
                    0.483424
                ],
                [
                    36,
                    0.489973
                ],
                [
                    37,
                    0.496343
                ],
                [
                    38,
                    0.502543
                ],
                [
                    39,
                    0.508582
                ],
                [
                    40,
                    0.514468
                ],
                [
                    41,
                    0.520209
                ]
            ],
            "equation": [
                -0.343145,
                0.232486
            ],
            "string": "y = -0.343145 + 0.232486 ln(x)",
            "r2": 0.69078,
            "predictions": [
                0,
                0,
                0,
                0,
                0.031027,
                0.073414,
                0.109252,
                0.140296,
                0.167679,
                0.192174,
                0.214332,
                0.234561,
                0.25317,
                0.270399,
                0.286439,
                0.301443,
                0.315537,
                0.328826,
                0.341396,
                0.353321,
                0.364664,
                0.375479,
                0.385814,
                0.395708,
                0.405199,
                0.414317,
                0.423091,
                0.431546,
                0.439704,
                0.447586,
                0.455209,
                0.46259,
                0.469744,
                0.476684,
                0.483424,
                0.489973,
                0.496343,
                0.502543,
                0.508582,
                0.514468,
                0.520209,
                0.525811,
                0.531281,
                0.536626,
                0.541851,
                0.546961,
                0.55196,
                0.556855,
                0.561649,
                0.566346,
                0.570949,
                0.575464,
                0.579892,
                0.584238,
                0.588504,
                0.592693,
                0.596808,
                0.600851,
                0.604825,
                0.608733,
                0.612576,
                0.616356,
                0.620076,
                0.623737,
                0.627342,
                0.630891,
                0.634387,
                0.637831,
                0.641225,
                0.644571,
                0.647868,
                0.65112,
                0.654327,
                0.65749,
                0.660611,
                0.66369,
                0.666729,
                0.669729,
                0.67269,
                0.675615,
                0.678503,
                0.681356,
                0.684174,
                0.686958,
                0.689709,
                0.692428,
                0.695116,
                0.697773,
                0.7004,
                0.702998,
                0.705567,
                0.708108,
                0.710621,
                0.713107,
                0.715568,
                0.718002,
                0.720411,
                0.722796,
                0.725156,
                0.727493,
                0.729806,
                0.732096,
                0.734365,
                0.736611,
                0.738836,
                0.741039,
                0.743222,
                0.745385,
                0.747528,
                0.749651,
                0.751755,
                0.75384,
                0.755906,
                0.757955,
                0.759985,
                0.761998,
                0.763994,
                0.765972,
                0.767934,
                0.76988,
                0.771809,
                0.773723,
                0.77562,
                0.777503,
                0.77937,
                0.781223,
                0.783061,
                0.784884,
                0.786693,
                0.788489,
                0.79027,
                0.792038,
                0.793793,
                0.795534,
                0.797263,
                0.798978,
                0.800682,
                0.802373,
                0.804051,
                0.805718,
                0.807372,
                0.809015,
                0.810647,
                0.812267,
                0.813876,
                0.815474,
                0.817061,
                0.818637,
                0.820202,
                0.821758
            ],
            "growthCombined": [
                0,
                0.013,
                0.0209,
                0.0263,
                0.0306,
                0.0336,
                0.037,
                0.0407,
                0.0497,
                0.0609,
                0.0744,
                0.0842,
                0.0983,
                0.118,
                0.1341,
                0.1564,
                0.1764,
                0.1953,
                0.2136,
                0.232,
                0.2547,
                0.2697,
                0.2888,
                0.3193,
                0.3457,
                0.375,
                0.4038,
                0.4274,
                0.4582,
                0.4842,
                0.504,
                0.5371,
                0.5707,
                0.6056,
                0.6345,
                0.6488,
                0.6631,
                0.6858,
                0.6996,
                0.7219,
                0.7491,
                0.531281,
                0.536626,
                0.541851,
                0.546961,
                0.55196,
                0.556855,
                0.561649,
                0.566346,
                0.570949,
                0.575464,
                0.579892,
                0.584238,
                0.588504,
                0.592693,
                0.596808,
                0.600851,
                0.604825,
                0.608733,
                0.612576,
                0.616356,
                0.620076,
                0.623737,
                0.627342,
                0.630891,
                0.634387,
                0.637831,
                0.641225,
                0.644571,
                0.647868,
                0.65112,
                0.654327,
                0.65749,
                0.660611,
                0.66369,
                0.666729,
                0.669729,
                0.67269,
                0.675615,
                0.678503,
                0.681356,
                0.684174,
                0.686958,
                0.689709,
                0.692428,
                0.695116,
                0.697773,
                0.7004,
                0.702998,
                0.705567,
                0.708108,
                0.710621,
                0.713107,
                0.715568,
                0.718002,
                0.720411,
                0.722796,
                0.725156,
                0.727493,
                0.729806,
                0.732096,
                0.734365,
                0.736611,
                0.738836,
                0.741039,
                0.743222,
                0.745385,
                0.747528,
                0.749651,
                0.751755,
                0.75384,
                0.755906,
                0.757955,
                0.759985,
                0.761998,
                0.763994,
                0.765972,
                0.767934,
                0.76988,
                0.771809,
                0.773723,
                0.77562,
                0.777503,
                0.77937,
                0.781223,
                0.783061,
                0.784884,
                0.786693,
                0.788489,
                0.79027,
                0.792038,
                0.793793,
                0.795534,
                0.797263,
                0.798978,
                0.800682,
                0.802373,
                0.804051,
                0.805718,
                0.807372,
                0.809015,
                0.810647,
                0.812267,
                0.813876,
                0.815474,
                0.817061,
                0.818637,
                0.820202,
                0.821758,
                null
            ]
        },
        "상수리나무": {
            "points": [
                [
                    1,
                    -0.084848
                ],
                [
                    2,
                    -0.039047
                ],
                [
                    3,
                    -0.012255
                ],
                [
                    4,
                    0.006754
                ],
                [
                    5,
                    0.021499
                ],
                [
                    6,
                    0.033546
                ],
                [
                    7,
                    0.043732
                ],
                [
                    8,
                    0.052555
                ],
                [
                    9,
                    0.060338
                ],
                [
                    10,
                    0.0673
                ],
                [
                    11,
                    0.073598
                ],
                [
                    12,
                    0.079347
                ],
                [
                    13,
                    0.084636
                ],
                [
                    14,
                    0.089533
                ],
                [
                    15,
                    0.094092
                ],
                [
                    16,
                    0.098356
                ],
                [
                    17,
                    0.102362
                ],
                [
                    18,
                    0.106139
                ],
                [
                    19,
                    0.109712
                ],
                [
                    20,
                    0.113101
                ],
                [
                    21,
                    0.116325
                ],
                [
                    22,
                    0.119399
                ],
                [
                    23,
                    0.122336
                ],
                [
                    24,
                    0.125148
                ],
                [
                    25,
                    0.127846
                ],
                [
                    26,
                    0.130437
                ],
                [
                    27,
                    0.132931
                ],
                [
                    28,
                    0.135334
                ],
                [
                    29,
                    0.137653
                ],
                [
                    30,
                    0.139893
                ],
                [
                    31,
                    0.14206
                ]
            ],
            "equation": [
                -0.084848,
                0.066077
            ],
            "string": "y = -0.084848 + 0.066077 ln(x)",
            "r2": 0.60809,
            "predictions": [
                0,
                0,
                0,
                0.006754,
                0.021499,
                0.033546,
                0.043732,
                0.052555,
                0.060338,
                0.0673,
                0.073598,
                0.079347,
                0.084636,
                0.089533,
                0.094092,
                0.098356,
                0.102362,
                0.106139,
                0.109712,
                0.113101,
                0.116325,
                0.119399,
                0.122336,
                0.125148,
                0.127846,
                0.130437,
                0.132931,
                0.135334,
                0.137653,
                0.139893,
                0.14206,
                0.144157,
                0.146191,
                0.148163,
                0.150079,
                0.15194,
                0.153751,
                0.155513,
                0.157229,
                0.158902,
                0.160534,
                0.162126,
                0.163681,
                0.1652,
                0.166685,
                0.168137,
                0.169558,
                0.170949,
                0.172312,
                0.173647,
                0.174955,
                0.176238,
                0.177497,
                0.178732,
                0.179945,
                0.181135,
                0.182305,
                0.183454,
                0.184583,
                0.185694,
                0.186786,
                0.187861,
                0.188918,
                0.189959,
                0.190983,
                0.191992,
                0.192985,
                0.193964,
                0.194929,
                0.19588,
                0.196817,
                0.197741,
                0.198653,
                0.199552,
                0.200439,
                0.201314,
                0.202178,
                0.20303,
                0.203872,
                0.204703,
                0.205524,
                0.206335,
                0.207136,
                0.207927,
                0.208709,
                0.209482,
                0.210246,
                0.211001,
                0.211748,
                0.212486,
                0.213216,
                0.213938,
                0.214653,
                0.215359,
                0.216059,
                0.21675,
                0.217435,
                0.218113,
                0.218784,
                0.219448,
                0.220105,
                0.220756,
                0.221401,
                0.222039,
                0.222672,
                0.223298,
                0.223919,
                0.224533,
                0.225142,
                0.225746,
                0.226344,
                0.226936,
                0.227524,
                0.228106,
                0.228683,
                0.229255,
                0.229822,
                0.230385,
                0.230942,
                0.231495,
                0.232043,
                0.232587,
                0.233127,
                0.233662,
                0.234192,
                0.234719,
                0.235241,
                0.23576,
                0.236274,
                0.236784,
                0.23729,
                0.237793,
                0.238292,
                0.238787,
                0.239278,
                0.239765,
                0.24025,
                0.24073,
                0.241207,
                0.241681,
                0.242151,
                0.242618,
                0.243082,
                0.243542,
                0.244,
                0.244454,
                0.244905,
                0.245353,
                0.245798,
                0.24624
            ],
            "growthCombined": [
                0,
                0.0055,
                0.0088,
                0.0113,
                0.0134,
                0.0145,
                0.0163,
                0.0191,
                0.0221,
                0.0256,
                0.031,
                0.0373,
                0.0447,
                0.0513,
                0.0568,
                0.0637,
                0.0708,
                0.0778,
                0.0854,
                0.0929,
                0.1002,
                0.1092,
                0.1174,
                0.1251,
                0.1304,
                0.1363,
                0.1413,
                0.217,
                0.2285,
                0.235,
                0.2411,
                0.146191,
                0.148163,
                0.150079,
                0.15194,
                0.153751,
                0.155513,
                0.157229,
                0.158902,
                0.160534,
                0.162126,
                0.163681,
                0.1652,
                0.166685,
                0.168137,
                0.169558,
                0.170949,
                0.172312,
                0.173647,
                0.174955,
                0.176238,
                0.177497,
                0.178732,
                0.179945,
                0.181135,
                0.182305,
                0.183454,
                0.184583,
                0.185694,
                0.186786,
                0.187861,
                0.188918,
                0.189959,
                0.190983,
                0.191992,
                0.192985,
                0.193964,
                0.194929,
                0.19588,
                0.196817,
                0.197741,
                0.198653,
                0.199552,
                0.200439,
                0.201314,
                0.202178,
                0.20303,
                0.203872,
                0.204703,
                0.205524,
                0.206335,
                0.207136,
                0.207927,
                0.208709,
                0.209482,
                0.210246,
                0.211001,
                0.211748,
                0.212486,
                0.213216,
                0.213938,
                0.214653,
                0.215359,
                0.216059,
                0.21675,
                0.217435,
                0.218113,
                0.218784,
                0.219448,
                0.220105,
                0.220756,
                0.221401,
                0.222039,
                0.222672,
                0.223298,
                0.223919,
                0.224533,
                0.225142,
                0.225746,
                0.226344,
                0.226936,
                0.227524,
                0.228106,
                0.228683,
                0.229255,
                0.229822,
                0.230385,
                0.230942,
                0.231495,
                0.232043,
                0.232587,
                0.233127,
                0.233662,
                0.234192,
                0.234719,
                0.235241,
                0.23576,
                0.236274,
                0.236784,
                0.23729,
                0.237793,
                0.238292,
                0.238787,
                0.239278,
                0.239765,
                0.24025,
                0.24073,
                0.241207,
                0.241681,
                0.242151,
                0.242618,
                0.243082,
                0.243542,
                0.244,
                0.244454,
                0.244905,
                0.245353,
                0.245798,
                0.24624,
                null
            ]
        },
        "신갈나무": {
            "points": [
                [
                    1,
                    0.002451
                ],
                [
                    2,
                    0.011237
                ],
                [
                    3,
                    0.016376
                ],
                [
                    4,
                    0.020022
                ],
                [
                    5,
                    0.022851
                ],
                [
                    6,
                    0.025162
                ],
                [
                    7,
                    0.027115
                ],
                [
                    8,
                    0.028808
                ],
                [
                    9,
                    0.030301
                ],
                [
                    10,
                    0.031636
                ],
                [
                    11,
                    0.032844
                ],
                [
                    12,
                    0.033947
                ],
                [
                    13,
                    0.034962
                ],
                [
                    14,
                    0.035901
                ],
                [
                    15,
                    0.036776
                ],
                [
                    16,
                    0.037594
                ],
                [
                    17,
                    0.038362
                ],
                [
                    18,
                    0.039086
                ],
                [
                    19,
                    0.039772
                ],
                [
                    20,
                    0.040422
                ],
                [
                    21,
                    0.04104
                ],
                [
                    22,
                    0.04163
                ],
                [
                    23,
                    0.042193
                ],
                [
                    24,
                    0.042733
                ],
                [
                    25,
                    0.04325
                ],
                [
                    26,
                    0.043747
                ],
                [
                    27,
                    0.044226
                ],
                [
                    28,
                    0.044687
                ],
                [
                    29,
                    0.045131
                ],
                [
                    30,
                    0.045561
                ],
                [
                    31,
                    0.045977
                ],
                [
                    32,
                    0.046379
                ],
                [
                    33,
                    0.046769
                ],
                [
                    34,
                    0.047148
                ]
            ],
            "equation": [
                0.002451,
                0.012675
            ],
            "string": "y = 0.002451 + 0.012675 ln(x)",
            "r2": 0.984203,
            "predictions": [
                0.002451,
                0.011237,
                0.016376,
                0.020022,
                0.022851,
                0.025162,
                0.027115,
                0.028808,
                0.030301,
                0.031636,
                0.032844,
                0.033947,
                0.034962,
                0.035901,
                0.036776,
                0.037594,
                0.038362,
                0.039086,
                0.039772,
                0.040422,
                0.04104,
                0.04163,
                0.042193,
                0.042733,
                0.04325,
                0.043747,
                0.044226,
                0.044687,
                0.045131,
                0.045561,
                0.045977,
                0.046379,
                0.046769,
                0.047148,
                0.047515,
                0.047872,
                0.048219,
                0.048557,
                0.048887,
                0.049208,
                0.049521,
                0.049826,
                0.050124,
                0.050416,
                0.0507,
                0.050979,
                0.051252,
                0.051518,
                0.05178,
                0.052036,
                0.052287,
                0.052533,
                0.052774,
                0.053011,
                0.053244,
                0.053472,
                0.053697,
                0.053917,
                0.054134,
                0.054347,
                0.054556,
                0.054762,
                0.054965,
                0.055165,
                0.055361,
                0.055555,
                0.055745,
                0.055933,
                0.056118,
                0.056301,
                0.05648,
                0.056658,
                0.056833,
                0.057005,
                0.057175,
                0.057343,
                0.057509,
                0.057672,
                0.057834,
                0.057993,
                0.058151,
                0.058306,
                0.05846,
                0.058612,
                0.058762,
                0.05891,
                0.059056,
                0.059201,
                0.059344,
                0.059486,
                0.059626,
                0.059765,
                0.059902,
                0.060037,
                0.060171,
                0.060304,
                0.060435,
                0.060565,
                0.060694,
                0.060822,
                0.060948,
                0.061073,
                0.061196,
                0.061319,
                0.06144,
                0.06156,
                0.061679,
                0.061797,
                0.061914,
                0.06203,
                0.062144,
                0.062258,
                0.062371,
                0.062482,
                0.062593,
                0.062703,
                0.062812,
                0.062919,
                0.063026,
                0.063132,
                0.063238,
                0.063342,
                0.063445,
                0.063548,
                0.06365,
                0.063751,
                0.063851,
                0.06395,
                0.064049,
                0.064147,
                0.064244,
                0.064341,
                0.064436,
                0.064531,
                0.064625,
                0.064719,
                0.064812,
                0.064904,
                0.064995,
                0.065086,
                0.065177,
                0.065266,
                0.065355,
                0.065443,
                0.065531,
                0.065618,
                0.065705,
                0.065791,
                0.065876,
                0.065961
            ],
            "growthCombined": [
                0,
                0.0101,
                0.0156,
                0.0196,
                0.0225,
                0.0254,
                0.0275,
                0.0298,
                0.0311,
                0.0325,
                0.0339,
                0.0353,
                0.0359,
                0.0373,
                0.0387,
                0.0404,
                0.0396,
                0.0413,
                0.0405,
                0.0425,
                0.0421,
                0.042,
                0.042,
                0.0422,
                0.0424,
                0.0426,
                0.043,
                0.0432,
                0.0437,
                0.0439,
                0.0444,
                0.0446,
                0.0451,
                0.0454,
                0.047872,
                0.048219,
                0.048557,
                0.048887,
                0.049208,
                0.049521,
                0.049826,
                0.050124,
                0.050416,
                0.0507,
                0.050979,
                0.051252,
                0.051518,
                0.05178,
                0.052036,
                0.052287,
                0.052533,
                0.052774,
                0.053011,
                0.053244,
                0.053472,
                0.053697,
                0.053917,
                0.054134,
                0.054347,
                0.054556,
                0.054762,
                0.054965,
                0.055165,
                0.055361,
                0.055555,
                0.055745,
                0.055933,
                0.056118,
                0.056301,
                0.05648,
                0.056658,
                0.056833,
                0.057005,
                0.057175,
                0.057343,
                0.057509,
                0.057672,
                0.057834,
                0.057993,
                0.058151,
                0.058306,
                0.05846,
                0.058612,
                0.058762,
                0.05891,
                0.059056,
                0.059201,
                0.059344,
                0.059486,
                0.059626,
                0.059765,
                0.059902,
                0.060037,
                0.060171,
                0.060304,
                0.060435,
                0.060565,
                0.060694,
                0.060822,
                0.060948,
                0.061073,
                0.061196,
                0.061319,
                0.06144,
                0.06156,
                0.061679,
                0.061797,
                0.061914,
                0.06203,
                0.062144,
                0.062258,
                0.062371,
                0.062482,
                0.062593,
                0.062703,
                0.062812,
                0.062919,
                0.063026,
                0.063132,
                0.063238,
                0.063342,
                0.063445,
                0.063548,
                0.06365,
                0.063751,
                0.063851,
                0.06395,
                0.064049,
                0.064147,
                0.064244,
                0.064341,
                0.064436,
                0.064531,
                0.064625,
                0.064719,
                0.064812,
                0.064904,
                0.064995,
                0.065086,
                0.065177,
                0.065266,
                0.065355,
                0.065443,
                0.065531,
                0.065618,
                0.065705,
                0.065791,
                0.065876,
                0.065961,
                null
            ]
        }
    }
};

console.time('Retrieving site information ');
var spc2ID = manager.spcClasses.map(s => ({[s.species]: s.speciesID})).reduce(((r, c) => Object.assign(r, c)), {});
var ID2Spc = manager.spcClasses.map(s => ({[s.speciesID]: s.species})).reduce(((r, c) => Object.assign(r, c)), {});
var spcIDList = Object.values(spc2ID); // e.g., [ 'O', 'C', 'K', 'L', 'S', 'B' ]

var initialConditions = []; // e.g., [{ section: 1, periodBorn: -7, spcID: 'K', periodDied: 1, clearCutYear: 7 } ... ]
for (let i=0; i<manager.currentSpc.length; i++) {
    const obj_temp = {};
    obj_temp.section = manager.currentSpc[i].section;
    obj_temp.species = manager.currentSpc[i].species;
    obj_temp.periodBorn = 1 - manager.currentSpc[i].age;
    obj_temp.spcID = spc2ID[obj_temp.species];
    obj_temp.area = manager.currentSpc[i].area;
    obj_temp.volume = manager.currentSpc[i].volume;

    /*** obj_temp.periodDied ***/
    const forManPlan = manager.forManPlan.find(x => x.section === manager.currentSpc[i].section & x.species === manager.currentSpc[i].species); // 해당하는 산림시업 정보를 찾습니다.

    if (obj_temp.periodBorn + forManPlan.clearCutYear <= 0)
        obj_temp.periodDied = 1;
    else
        obj_temp.periodDied = obj_temp.periodBorn + forManPlan.clearCutYear;
    obj_temp.clearCutYear = forManPlan.clearCutYear;
    if (forManPlan.hasOwnProperty("thinningScenario")) // thinningScenario key 가 존재하면
        obj_temp.thinningScenario = forManPlan.thinningScenario;
    else // 키가 존재하지 않는 경우 계획 기간 길이만큼 zeros 생성
        obj_temp.thinningScenario = math.zeros(manager.planningPeriod)._data;
    obj_temp.spcGrowth = manager.spcGrowth[obj_temp.species];
    initialConditions.push(obj_temp);
}
console.timeEnd('Retrieving site information ');


/**
 * 생장량, 간벌량, 수확량
 * section, spcID, currentAge (1영급일 때는 ha당 재적도 0 = 기본 세팅) 에 따라 정의. data 는 period, volume, produced (수확량) 으로 나타내어짐.
 * volumeTable[0] = {section:1, spcID:"K", currentAge:5, data: {
 *  1: {period:1, age:5, volume:137.7896, produced:0},
 *  2: {period:2, age:6, volume:158.2671, produced:0},
 *  3: {period:3, age:7, volume:0, produced:175.881},
 * }
 */

console.time('Calculating initial volume table');
let currentVolumeTables = [];
for (const initialCondition of initialConditions) {
    let currentVolumeTable = {};
    currentVolumeTable.section = initialCondition.section;
    currentVolumeTable.spcID = initialCondition.spcID;
    currentVolumeTable.currentAge = 1 - initialCondition.periodBorn; // obj_temp.periodBorn = 1 - manager.currentSpc[i].age; 에서 역으로 계산
    let growthData = initialCondition.spcGrowth.predictions.concat([]); // 선택 파트: combined 로 하거나, 다른 식으로 수정할 수도 있음. concat 은 array copy 를 위해서.
    const ratio = initialCondition.volume / growthData[10 * currentVolumeTable.currentAge - 1]; // 초기조건 고려해서 계수 생성. 초기 volume 이 0일 때는 고려 X
    growthData = growthData.map(x => x*ratio);
    if (initialCondition.section === 1 && initialCondition.spcID === "K" && initialCondition.periodBorn === -4)
        console.log(growthData, ratio, initialCondition.volume);
    let temp_data = {};

    let age = 1;
    if (currentVolumeTable.currentAge < initialCondition.clearCutYear) { // 현재 영급이 주벌시기보다 이전인 경우
        for (let per=1; age<initialCondition.clearCutYear;per++) {
            age = currentVolumeTable.currentAge + per - 1;
            let prod = growthData[10 * age - 1] * initialCondition.thinningScenario[age - 1];

            if (age === initialCondition.clearCutYear)
                prod = growthData[10 * age - 1];

            growthData = growthData.map(x => x - prod);
            const vol = growthData[10 * age - 1];

            temp_data[per] = {period: per, age: age, volume: vol, produced: prod};
        }
    }
    else { // 현재 영급이 주벌시기보다 높은 경우
        const per = 1;
        age = currentVolumeTable.currentAge + per - 1;
        const vol = 0;
        const prod = growthData[10 * age - 1];
        temp_data[per] =  {period: per, age: age, volume: vol, produced: prod};
    }
    currentVolumeTable.data = temp_data;
    currentVolumeTables.push(currentVolumeTable);
} // 현재 있는 수종들에 대한 volumeTable 을 얻습니다.
console.timeEnd('Calculating initial volume table');

console.time('Calculating future volume table');
let futureVolumeTables = []; // 초기 조건이 주어지지 않은, 각 구역별 수종에 대한 volumeTable 을 얻습니다.
const DENSITY = 3000; // # of trees per ha
for (const spcID of spcIDList) {
    for (let sec=1; sec<=manager.numSections;sec++) {
        let growthData = JSON.parse(JSON.stringify(manager.spcGrowth[ID2Spc[spcID]])).predictions;
        growthData = growthData.map(x => x*DENSITY);
        let futureVolumeTable = {};
        futureVolumeTable.section = sec;
        futureVolumeTable.spcID = spcID;

        let temp_data = {};
        const forManPlan = manager.forManPlan.find(x => x.section === sec & x.species === ID2Spc[spcID]); // 해당하는 산림시업 정보를 찾습니다.
        const clearCutYear = forManPlan.clearCutYear;
        let thinningScenario;
        if (forManPlan.hasOwnProperty("thinningScenario"))
            thinningScenario = forManPlan.thinningScenario;
        else
            thinningScenario = math.zeros(clearCutYear)._data;

        for (let per=1; per<=clearCutYear; per++){
            let prod = growthData[10 * per - 1] * thinningScenario[per - 1];
            if (per === clearCutYear)
                prod = growthData[10 * per - 1];

            growthData = growthData.map(x => x - prod);

            const vol = growthData[10 * per - 1];
            temp_data[per] = {age:per, period: per, volume: vol, produced: prod};
        }
        futureVolumeTable.data = temp_data;
        futureVolumeTables.push(futureVolumeTable);
    }
}
console.timeEnd('Calculating future volume table');




console.time('Defining Variables');
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
/*****************************************************************************************
 * ***********************************************************************************
 *                         Create Decision Variables
 *
 *    현재 임분 정보를 참고해서, 지속적으로 파생되는 일련의 DV 리스트를 만듭니다.
 *    우선 정의부터 하고, 엑셀 양식에 맞게 정렬하는건 나중에.
 *    참고로 엑셀에는 section, periodBorn, speciesID (ABC 순서가 아닌 사용자 입력순서)
 *    순서로 정렬되어 있습니다.
 ****************************************************************************************/
const regenerationRules = [
    {section:1, spcID:'B', regenerationRule:['S', 'B']},
    {section:1, spcID:'S', regenerationRule:['S', 'B']},
]; // 1 구역의 B는 S, B 로만 갱신.
var DecisionVariable = function (condition) {
    this.type = "Variable";
    this.ID = "DecisionVariable";
    this.section = condition.section;
    this.spcID = condition.spcID;
    this.periodBorn = condition.periodBorn;
    this.periodDied = condition.periodDied;
    this.regenSpcID = condition.regenSpcID;
    this.name = String(this.section) + "_" + String(this.periodBorn) + this.spcID + String(this.periodDied) + this.regenSpcID; // 1_1K7K
};
var DecisionVariables = [];
DecisionVariables.checkDuplicate = function(condition) {
    const searchResult = this.find(x => x.section === condition.section & x.spcID === condition.spcID & x.periodDied === condition.periodDied & x.regenSpcID === condition.regenSpcID);
    return searchResult !== undefined;
};
DecisionVariables.add = function (condition) {
    if (!this.checkDuplicate(condition))
        this.push(new DecisionVariable(condition));
};
/*****************************************************************************************
 *****************************************************************************************/
var createDecisionVariable = function (initialCondition) {
    /*****************************************************************************************************
     *        input: { section: 1, periodBorn: -7, spcID: 'K', periodDied: 1, clearCutYear: 7 }
     *****************************************************************************************************/
    if (initialCondition.periodBorn > manager.planningPeriod)
        return false;
    let regenSpcIDList = spcIDList;

    const searchResults = regenerationRules.find(x => x.section === initialCondition.section & x.spcID === initialCondition.spcID);
    if (searchResults !== undefined) // 갱신 제한 수종 있는지 검사. 해당하는 결과가 나오면
        regenSpcIDList = searchResults.regenerationRule;
    if (initialCondition.periodBorn + initialCondition.clearCutYear > manager.planningPeriod) { // 계획기간을 넘어, 주벌 & 갱신을 안하는 경우 한번 추가하고, 이후 반복문은 실행 X
        initialCondition.regenSpcID = ".";
        initialCondition.periodDied = ".";
        DecisionVariables.add(initialCondition);
        return false;
    }

    for (const regenSpcID of regenSpcIDList) { // 계획기간 내, 주벌 & 갱신 모두 함. 수종에 따라, 주벌시기가 계획기간 이상일 수도, 이내일 수도 있으므로 고려.
        let newCondition = JSON.parse(JSON.stringify(initialCondition)); // newCondition = initialCondition 으로 하면 initialCondition 값이 바뀌어버림. Copy 를 만듦.
        newCondition.regenSpcID = regenSpcID;
        DecisionVariables.add(newCondition); // regenSpcID 만 할당한 뒤에 추가.


        newCondition.spcID = regenSpcID;
        newCondition.periodBorn = newCondition.periodDied;
        newCondition.clearCutYear = manager.forManPlan.find(x => x.section === newCondition.section & x.species === ID2Spc[newCondition.spcID]).clearCutYear;
        newCondition.periodDied = newCondition.periodBorn + newCondition.clearCutYear;
        if (newCondition.periodDied <= 0) // 이미 initialCondition 을 만들 때 고려되었으므로 필요는 X
            newCondition.periodDied = 1;
        createDecisionVariable(newCondition);
    }
};
/*****************************************************************************************
 *****************************************************************************************/
for (const initialCondition of initialConditions)
    createDecisionVariable(initialCondition)
DecisionVariables.sort(function(a,b){
    if (a.section !== b.section)
        return a.section - b.section;
    if (a.periodBorn !== b.periodBorn)
        return a.periodBorn - b.periodBorn;
    if (spcIDList.indexOf(a.spcID) !== spcIDList.indexOf(b.spcID))
        return spcIDList.indexOf(a.spcID) - spcIDList.indexOf(b.spcID);
    return a.periodDied - b.periodDied;
});

///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
/******************************************************************************************
 * ************************************************************************************
 *                          Create Accounting Variables
 *
 *                        Accounting Variable 를 만듭니다.
 *****************************************************************************************/
const ID2AccountingVariableNameRules = {
    Vol_SpcPer:["spcID", "V", ".", "period"], //
    Area_SpcSecPer:["section", "spcID", "A",  ".", "period"], // 2KA.10 => 10분기의 2구역, K 수종의 면적
    Area_SpcPer:["spcID", "A", ".", "period"], // KA.10 => 10분기의 K 수종의 면적.
    Area_AgePer:["AC", "age", ".", "period"], // AC1.10 => 10분기에 AgeClass 가 1 인 애들
    Thin_SpcPer:["spcID", "T", ".", "period"], // KT.10 => 10분기에 K 수종의 간벌량
    Harv_SpcPer:["spcID", "H", ".", "period"], // KH.10 => 10분기에 H 수종의 수확량
    PThin_Per:["TH", ".", "period"], // T.10 => 10 분기의 간벌 생산량
    PHarv_Per:["H", ".", "period"], // H.10 => 10 분기의 주벌 생산량
    PThinHarv_Per:["TH", ".", "period"],
    Carbon_Per:["C", ".", "period"],
    Water_Per:["W", ".", "period"],
    Labor_Per:["J", ".", "period"],
    TCost_Per:["TC", ".", "period"],
    TRev_Per:["TR", ".", "period"],
    TNet_Per:["ft", ".", "period"],
    HCost_Per:["HC", ".", "period"],
    HRev_Per:["HR", ".", "period"],
    HNet_Per:["fh", ".", "period"],
    f_Per:["f", ".", "period"],
    g_Per:["g", ".", "period"],
    h_Per:["h", ".", "period"],
    NPV_f_Per:["NPV_f", ".", "period"],
    NPV_g_Per:["NPV_g", ".", "period"],
    NPV_h_Per:["NPV_h", ".", "period"],
}; // Naming Rules: 각 요소의 순서대로 이름을 생성. undefined 인 경우 그 key 를 그대로 이름에 활용.
const AccountingVariableIDList = Object.keys(ID2AccountingVariableNameRules);
var AccountingVariable = function (condition) {
    // ID => V_Spc,
    // data => {spcID:"K", period:15}
    this.type = "Variable";
    this.ID = condition.ID;
    this.section = condition.section;
    this.spcID = condition.spcID;
    this.period = condition.period;
    this.name = condition.name;
};
var AccountingVariables = [];
AccountingVariables.createName = function (condition) {
    let name = "";
    for (const DataKey of ID2AccountingVariableNameRules[condition.ID]) {
        if (condition[DataKey] === undefined)
            name += String(DataKey);
        else
            name += String(condition[DataKey]);
    }
    return name;
};
AccountingVariables.checkDuplicate = function (condition) {
    const searchResult = this.find(x => x.name === condition.name);
    return searchResult !== undefined;
}; // 같은 name 을 가진 계산 변수가 없을 경우
AccountingVariables.add = function (condition) {
    condition.name = this.createName(condition);
    if (!this.checkDuplicate(condition))
        this.push(new AccountingVariable(condition));
};
/******************************************************************************************
 *                            최대 영급을 계산합니다. (주벌시기 중 최대값)
 *****************************************************************************************/
let ageMax = 0;
for (const obj of manager.forManPlan.values())
    if (ageMax < obj.clearCutYear)
        ageMax = obj.clearCutYear;
/******************************************************************************************
 *                 가능한 모든 조합에 대해서 중복을 고려하면서 계산 변수를 추가합니다.
 *****************************************************************************************/
for (const ID of Object.keys(ID2AccountingVariableNameRules)) {
    for (let period=1; period<=manager.planningPeriod; period++)
        for (let section=1; section<=manager.numSections; section++)
            for (const spcID of spcIDList)
                for (let age=1; age<=ageMax; age++)
                    AccountingVariables.add({ID:ID, section:section, spcID:spcID, age:age, period:period});
}
AccountingVariables.sort(function(a,b){
    if (a.ID !== b.ID)
        return AccountingVariableIDList.indexOf(a.ID) - AccountingVariableIDList.indexOf(b.ID);
    if (a.hasOwnProperty("section") && a.section !== b.section)
        return a.section - b.section;
    if (a.hasOwnProperty("spcID") && a.spcID !== b.spcID)
        return spcIDList.indexOf(a.spcID) - spcIDList.indexOf(b.spcID);
    if (a.hasOwnProperty("age") && a.age !== b.age)
        return a.age - b.age;
    if (a.hasOwnProperty("period") && a.period !== b.period)
        return a.periodBorn - b.periodBorn;
}); // AccountingVariables 정렬 함수
var Variables = DecisionVariables.concat(AccountingVariables); // 최종 변수 목록 확정해서 생성.
console.timeEnd('Defining Variables');


console.time('Defining Equation Names');
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
/******************************************************************************************
 * ************************************************************************************
 *                                  Creating Equation Names
 *
 *                정의된 각 변수들을 활용해서, 식의 이름을 구성합니다. 엑셀 기준 1~2 column
 *
 *    우선 파생된 DecisionVariable 에서, 각각에 대한 면적의 Equation Name 을 생성합니다. (Ex. 1_-7K)
 *    면적은 section, periodBorn, spcID 의 조합을 입력으로 받아서 만들어집니다. 예를 들어,
 *    {"section":1,"spcID":"K","periodBorn":1,"periodDied":7,"regenSpcID":"C","name":"1_1K7C"}
 *    와 같은 입력을 받으면, 1_-7K 로 하나의 Equation Name 을 만듭니다.
 ****************************************************************************************/
var DecisionVariableEquationName = function (condition) {
    this.type = "EquationName";
    this.ID = "DecisionVariable";
    this.section = condition.section;
    this.spcID = condition.spcID;
    this.periodBorn = condition.periodBorn;
    this.name = String(this.section) + "_" + String(this.periodBorn) + this.spcID // 1_-7K
};
var DecisionVariableEquationNames = [];
DecisionVariableEquationNames.checkDuplicate = function(condition) {
    const searchResult = this.find(x => x.section === condition.section & x.spcID === condition.spcID & x.periodBorn === condition.periodBorn);
    return searchResult !== undefined;
};
DecisionVariableEquationNames.add = function (condition) {
    if (!this.checkDuplicate(condition))
        this.push(new DecisionVariableEquationName(condition));
};

for (const dv of DecisionVariables)
    DecisionVariableEquationNames.add(dv);
/*****************************************************************************************
 * ***********************************************************************************
 *                      Create Accounting Variables' Equation Names
 *
 *         각각의 Accounting Variable 에서, Equation Name 을 생성합니다.
 *         만들어진 Accounting Variable 하나당 하나의 Equation Name 이 생성되므로,
 *         간단히 for 문으로 전체를 iteration 해서 생성합니다.
 *         그 뒤에, 추가적인 constraints 에 대해서는 나중에 작업하는걸로.
 ****************************************************************************************/
var AccountingVariableEquationNames = [];
for (const AV of AccountingVariables) {
    let AVEqName = JSON.parse(JSON.stringify(AV))
    AVEqName.type = "EquationName";
    AccountingVariableEquationNames.push(AVEqName);
} // type 만 바꿔서 다시 추가
var EquationNames = DecisionVariableEquationNames.concat(AccountingVariableEquationNames);
console.timeEnd('Defining Equation Names');
/*****************************************************************************************
 * ***********************************************************************************
 *                 Create Matrix from defined Variables and EquationNames
 *
 *         각각의 Accounting Variable 에서, Equation Name 을 생성합니다.
 *         만들어진 Accounting Variable 하나당 하나의 Equation Name 이 생성되므로,
 *         간단히 for 문으로 전체를 iteration 해서 생성합니다.
 *         그 뒤에, 추가적인 constraints 에 대해서는 나중에 작업하는걸로.
 ****************************************************************************************/
// findIndex 같은 Function Call 을 이용하지 않는 이유는 연산상의 이점을 얻기 위해서. https://stackoverflow.com/questions/15997879
Variables.getIndex = function (condition) {
    for (let i=0; i<this.length;i++) {
        let isMatched = true;
        for (const key of Object.keys(condition)) {
            if (this[i][key] !== condition[key]) {
                isMatched = false;
                break;
            }
        }
        if (isMatched)
            return i;
    }
}; // condition object 의 key 를 순회하면서 해당 조건을 만족하는 첫번째 요소의 index 를 반환
Variables.filterIndices = function (condition) {
    let indices = [];
    for (let i=0; i<this.length;i++) {
        let isMatched = true;
        for (const key of Object.keys(condition)) {
            if (this[i][key] !== condition[key]) {// 하나라도 다른게 있으면
                isMatched = false;
                break;
            }
        }
        if (isMatched)
            indices.push(i);
    }
    return indices;
}; // condition object 의 key 를 순회하면서 해당 조건을 만족하는 array 의 index 리스트를 반환

console.time('Creating matrix')
let LHSMatrix = math.zeros(EquationNames.length,Variables.length);
let RHSMatrix = math.zeros(1, EquationNames.length);
console.timeEnd('Creating matrix')

// Matrix.subset(math.index(rowNum, ["list", "of", "indices"]), line._data); // 인덱스 리스트를 line._data 로 채움.
// 필요한 곳에 1과, -1을 생성하는 코드를 작성하면 될 듯??
// 그래서 indices 리스트 [i1, i2, i3 ... ik] 까지 만들고, [1,1,1, ... -1] 까지 만들면 알맞게 들어갈 듯!!!

console.time('Calculating DV matrix');
console.time('Calculating Vol_SpcPer matrix');


for (let rowNum=0; rowNum < EquationNames.length; rowNum++) {
    let indices = []; // 기존의 array 를 replace 할 array indices
    let line = []; // 기존의 array 를 replace 할 matrix 값들
    const EqName = EquationNames[rowNum]; // 그 줄의 DV EquationName 값을 읽어옵니다.
    const ID = EqName.ID;

    if (ID === "DecisionVariable") {
        // DecisionVariable: {"type":"Variable","ID":"DecisionVariable","section":1,"spcID":"K","periodBorn":-7,"periodDied":1,"regenSpcID":"O","name":"1_-7K1O"}
        if (EqName.periodBorn < 1) { // 기존에 있던 나무인 경우 (0분기 이하)
            indices = Variables.filterIndices({
                ID: ID,
                section: EqName.section,
                spcID: EqName.spcID,
                periodBorn: EqName.periodBorn
            });
            line = math.ones(indices.length);

            const area = initialConditions.find(x => x.section === EqName.section & x.spcID === EqName.spcID & x.periodBorn === EqName.periodBorn).area;
            RHSMatrix.subset(math.index(0, rowNum), area); // 우변에 각 영역 값을 할당
        }
        else { // 기존에 있던 나무가 아니고 식재된 경우
            indices = Variables.filterIndices({
                ID: ID,
                section: EqName.section,
                regenSpcID: EqName.spcID,
                periodDied: EqName.periodBorn // 갱신 대상 수종과 갱신 분기를 통해 검색
            });
            line = math.ones(indices.length);
            const indices_temp = Variables.filterIndices({
                ID: EqName.ID,
                section: EqName.section,
                spcID: EqName.spcID,
                periodBorn: EqName.periodBorn
            }); // 갱신된 현 상태의 수종 정보 (-1값 대입용)
            const line2 = math.multiply(math.ones(indices_temp.length), -1);
            indices = indices.concat(indices_temp);
            line = math.concat(line, line2);

            RHSMatrix.subset(math.index(0, rowNum), 0); // 우변에 0을 할당 (Equation 이기 때문에)
        }
    }
    if (ID === "Vol_SpcPer") {
        // Vol_SpcPer EqName : {"type":"EquationName","ID":"Vol_SpcPer","section":1,"spcID":"C","period":12,"name":"CV.12"}
        indices = Variables.filterIndices({ // 수종 조건이 맞는 indices 는 우선 전부 다 불러오기.
            ID: "DecisionVariable",
            spcID: EqName.spcID,
        });
        for (const i of indices) { // 각각의 indices 에 대해서 Variable 을 불러온 뒤, 조건에 맞게 처리.
            const DV = Variables[i];
            if (DV.periodBorn < EqName.period && EqName.period <= DV.periodDied) { // 특정 period 에 그 나무가 살아있는 경우
                if (DV.periodBorn <= 0) // 원래 있던 나무일 때 currentVolumeTables 에서 참고
                    line.push(currentVolumeTables.find(x => x.section === DV.section && x.spcID === DV.spcID && x.currentAge === 1 - DV.periodBorn).data[EqName.period].volume)
                else { // 식재된 나무일 때 (면적이 변화) -> futureVolumeTables 에서 참고
                    line.push(futureVolumeTables.find(x => x.section === DV.section && x.spcID === DV.spcID).data[EqName.period - DV.periodBorn].volume)
                }
            }
            else
                line.push(0)
        }
        const index = Variables.getIndex({
            ID: EqName.ID,
            name: EqName.name,
        });
        indices.push(index);
        line.push(-1);
    } //TODO - RHS 추가 파트 구현
    if (ID === "Area_SpcSecPer") {
        // Vol_SpcPer EqName : {ID: "Area_SpcSecPer", name: "1OA.1", period: 1, section: 1, spcID: "O", type: "Variable"}
        indices = Variables.filterIndices({ // 수종 조건이 맞는 indices 는 우선 전부 다 불러오기.
            ID: "DecisionVariable",
            spcID: EqName.spcID,
        });
        for (const i of indices) { // 각각의 indices 에 대해서 Variable 을 불러온 뒤, 조건에 맞게 처리.
            const DV = Variables[i];
            //TODO - asdf
        }
        const index = Variables.getIndex({
            ID: EqName.ID,
            name: EqName.name,
        });
        indices.push(index); // 우항에 해당,
        line.push(-1);
    } //TODO - RHS 추가 파트 구현
    else
        continue;

    //console.log(indices);
    //console.log(line);
    LHSMatrix.subset(math.index(rowNum, indices), line); // 인덱스 리스트를 line._data 로 채움.
}



/*
Vol_SpcPer:["spcID", "V", ".", "period"], //
    Area_SpcSecPer:["section", "spcID", "A",  ".", "period"], // 2KA.10 => 10분기의 2구역, K 수종의 면적
    Area_SpcPer:["spcID", "A", ".", "period"], // KA.10 => 10분기의 K 수종의 면적.
    Area_AgePer:["AC", "age", ".", "period"], // AC1.10 => 10분기에 AgeClass 가 1 인 애들
    Thin_SpcPer:["spcID", "T", ".", "period"], // KT.10 => 10분기에 K 수종의 간벌량
    Harv_SpcPer:["spcID", "H", ".", "period"], // KH.10 => 10분기에 H 수종의 수확량
    PThin_Per:["TH", ".", "period"], // T.10 => 10 분기의 간벌 생산량
    PHarv_Per:["H", ".", "period"], // H.10 => 10 분기의 주벌 생산량
    PThinHarv_Per:["TH", ".", "period"],
    Carbon_Per:["C", ".", "period"],
    Water_Per:["W", ".", "period"],
    Labor_Per:["J", ".", "period"],
    TCost_Per:["TC", ".", "period"],
    TRev_Per:["TR", ".", "period"],
    TNet_Per:["ft", ".", "period"],
    HCost_Per:["HC", ".", "period"],
    HRev_Per:["HR", ".", "period"],
    HNet_Per:["fh", ".", "period"],
    f_Per:["f", ".", "period"],
    g_Per:["g", ".", "period"],
    h_Per:["h", ".", "period"],
    NPV_f_Per:["NPV_f", ".", "period"],
    NPV_g_Per:["NPV_g", ".", "period"],
    NPV_h_Per:["NPV_h", ".", "period"],
};

*/


const ID2AccountingVariableNameRules2 = {
    Vol_SpcPer:["spcID", "V", ".", "period"], //
    Area_SpcSecPer:["section", "spcID", "A",  ".", "period"], // 2KA.10 => 10분기의 2구역, K 수종의 면적
    Area_SpcPer:["spcID", "A", ".", "period"], // KA.10 => 10분기의 K 수종의 면적.
    Area_AgePer:["AC", "age", ".", "period"], // AC1.10 => 10분기에 AgeClass 가 1 인 애들
    Thin_SpcPer:["spcID", "T", ".", "period"], // KT.10 => 10분기에 K 수종의 간벌량
    Harv_SpcPer:["spcID", "H", ".", "period"], // KH.10 => 10분기에 H 수종의 수확량
    PThin_Per:["TH", ".", "period"], // T.10 => 10 분기의 간벌 생산량
    PHarv_Per:["H", ".", "period"], // H.10 => 10 분기의 주벌 생산량
    PThinHarv_Per:["TH", ".", "period"],
    Carbon_Per:["C", ".", "period"],
    Water_Per:["W", ".", "period"],
    Labor_Per:["J", ".", "period"],
    TCost_Per:["TC", ".", "period"],
    TRev_Per:["TR", ".", "period"],
    TNet_Per:["ft", ".", "period"],
    HCost_Per:["HC", ".", "period"],
    HRev_Per:["HR", ".", "period"],
    HNet_Per:["fh", ".", "period"],
    f_Per:["f", ".", "period"],
    g_Per:["g", ".", "period"],
    h_Per:["h", ".", "period"],
    NPV_f_Per:["NPV_f", ".", "period"],
    NPV_g_Per:["NPV_g", ".", "period"],
    NPV_h_Per:["NPV_h", ".", "period"],
}; // Naming Rules: 각 요소의 순서대로 이름을 생성. undefined 인 경우 그 key 를 그대로 이름에 활용.

/*
test = {
    variables:["period", "spcID"],
    LHS:[
        [{type:"variable", ID:area2Volume, _:["spcID", "period"], {ID:"DecisionVariable", period:period, spcID:spcID}],
        [C]
    ]
};





*            곱하기로 연결된 경우 배열을 만들고, 값을 참조해야 하는 경우 Object 를 선언합니다.
 *            Vol_SpcPer:{variables:["period", "spcID"], LHS:[[{ID:area2Volume, spcID:spcID, period:period}, {ID:DecisionVariable, period:period, spcID:spcID}], [C]]} // RHS 는 자동으로 해당 period 와 spcID 에 해당하는 값으로
* */

//console.log(AccountingVariables);
//console.log(DecisionVariableEquations.length);


function saveLHS() {
    const fName = "save.csv"
    let matrix;
    matrix = math.concat([Variables.map(x => x.name)], LHSMatrix, 0);
    matrix = math.concat([[""], ...EquationNames.map(x => [x.name])], matrix, 1);
    let rows = matrix._data;

    let csv = '';
    for (var i = 0; i < rows.length; i++) {
        var row = rows[i];
        for (var j = 0; j < row.length; j++) {
            var val = row[j] === null ? '' : row[j].toString();
            val = val.replace(/\t/gi, " ");
            if (j > 0)
                csv += '\t';
            csv += val;
        }
        csv += '\n';
    }

    // for UTF-16
    var cCode, bArr = [];
    bArr.push(255, 254);
    for (var i = 0; i < csv.length; ++i) {
        cCode = csv.charCodeAt(i);
        bArr.push(cCode & 0xff);
        bArr.push(cCode / 256 >>> 0);
    }

    var blob = new Blob([new Uint8Array(bArr)], { type: 'text/csv;charset=UTF-16LE;' });
    if (navigator.msSaveBlob) {
        navigator.msSaveBlob(blob, fName);
    } else {
        var link = document.createElement("a");
        if (link.download !== undefined) {
            var url = window.URL.createObjectURL(blob);
            link.setAttribute("href", url);
            link.setAttribute("download", fName);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            window.URL.revokeObjectURL(url);
        }
    }
} // LHS Matrix 를 저장합니다.